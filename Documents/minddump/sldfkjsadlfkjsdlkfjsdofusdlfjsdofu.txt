for the couchbase "libevent" sample (of which there is a blog post entitled "using couchbase with your own event loop" or some such), why the fuck does valgrind not report any leaks when you run it as is... but then if you take the body of "main" and put it into a different static void function and call it from main (SHOULD COMPILE TO BE IDENTICAL IMO), you get the weird error i was running into (which was solved by calling the lcb io ops destroy function). makes no sense [to me] and I wonder if it's a valgrind bug?